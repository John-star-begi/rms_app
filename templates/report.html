<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Rental Minimum Standards Check | Class A Fix</title>

<style>
:root{
  --brand:#0077B6;
  --brand-light:#E8F4FB;
  --brand-header:#E3F2FD;

  --text:#222;
  --muted:#666;
  --ok:#2E7D32;
  --bad:#B00020;
  --na:#777;

  --border:#D0D7DE;
  --radius:14px;
}

@page{size:A4;margin:20mm;}

body{
  margin:0;
  font-family: Helvetica, Arial, sans-serif;
  font-size:10pt;
  color:var(--text);
}

.page{
  max-width:170mm;
  margin:0 auto;
}

.spacer{height:14px;}

.card{
  border:1px solid var(--border);
  border-radius:var(--radius);
  background:#fff;
  padding:14px;
}

.header-card{
  background:var(--brand-header);
  display:flex;
  align-items:center;
  gap:14px;
}

.header-card img{
  height:42px;
  max-width:130px;
  object-fit:contain;
}

.header-title{
  font-size:15pt;
  font-weight:700;
  color:var(--brand);
}

.header-sub{
  font-size:10pt;
  color:var(--muted);
}

.info-card{
  background:var(--brand-light);
}

.info-grid{
  display:grid;
  grid-template-columns:180px 1fr;
  gap:6px 12px;
}

.label{
  font-size:9.5pt;
  font-weight:700;
  color:#444;
}

.value{
  font-size:10pt;
}

.value.ok{color:var(--ok);font-weight:700;}
.value.bad{color:var(--bad);font-weight:700;}

.summary-row{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}

.summary-card{
  text-align:center;
  padding:18px 10px;
}

.summary-label{
  font-size:9.5pt;
  color:var(--muted);
  font-weight:700;
}

.summary-number{
  font-size:22pt;
  font-weight:700;
  color:var(--brand);
  margin-top:6px;
}

.table-card{
  padding:0;
  overflow:hidden;
}

table{
  width:100%;
  border-collapse:collapse;
}

thead th{
  background:#F3F6FA;
  color:var(--brand);
  font-size:9.5pt;
  text-align:left;
  padding:10px 14px;
}

tbody td{
  padding:10px 14px;
  border-top:1px solid var(--border);
}

.status-ok{color:var(--ok);font-weight:700;}
.status-bad{color:var(--bad);font-weight:700;}
.status-na{color:var(--na);font-weight:700;}

.section-title{
  font-size:11pt;
  font-weight:700;
  color:var(--brand);
  margin-bottom:8px;
}

.category-card{
  padding:16px;
}

.category-head{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  font-weight:700;
  font-size:11pt;
}

.category-status.ok{color:var(--ok);}
.category-status.bad{color:var(--bad);}
.category-status.na{color:var(--na);}

.category-meta{
  font-size:9.5pt;
  color:var(--muted);
  margin-top:4px;
}

.checklist{
  margin:10px 0 0 18px;
  padding:0;
}

.checklist li{
  font-size:9.5pt;
  color:#333;
  margin-bottom:4px;
}

.category-note{
  margin-top:8px;
  font-size:9.5pt;
  color:var(--muted);
}

.photos-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  margin-top:12px;
}

.photos-grid img{
  width:100%;
  height:220px;
  object-fit:cover;
  border-radius:8px;
}

.assurance{
  font-size:9.5pt;
  color:var(--muted);
  text-align:center;
}

.footer-card{
  background:var(--brand-header);
  text-align:center;
  font-weight:700;
  color:var(--brand);
}
</style>
</head>

<body>
<div class="page">

<!-- HEADER -->
<div class="card header-card">
  <img src="/static/class-a-fix-logo.jpg" alt="Class A Fix">
  <div>
    <div class="header-title">Rental Minimum Standards Check</div>
    <div class="header-sub">Class A Fix Service Report</div>
  </div>
</div>

<div class="spacer"></div>

<!-- INFO CARD -->
<div class="card info-card">
  <div class="info-grid">
    <div class="label">Property</div><div class="value">{{ property_address }}</div>
    <div class="label">Overall status</div>
    <div class="value {{ 'ok' if overall_status == 'Compliant' else 'bad' }}">{{ overall_status }}</div>
    <div class="label">Generated</div><div class="value">{{ generated_date }}</div>
    <div class="label">Reference</div><div class="value">{{ reference }}</div>
  </div>
</div>

<div class="spacer"></div>

<!-- SUMMARY CARDS -->
<div class="summary-row">
  <div class="card summary-card">
    <div class="summary-label">Standards checked</div>
    <div class="summary-number">{{ standards_checked }}</div>
  </div>
  <div class="card summary-card">
    <div class="summary-label">Non compliant</div>
    <div class="summary-number">{{ non_compliant_count }}</div>
  </div>
  <div class="card summary-card">
    <div class="summary-label">Actions required</div>
    <div class="summary-number">{{ actions_required }}</div>
  </div>
</div>

<div class="spacer"></div>

<!-- TABLE SUMMARY -->
<div class="card table-card">
<table>
<thead>
<tr>
  <th>Category</th>
  <th>Status</th>
  <th>Summary</th>
</tr>
</thead>
<tbody>
{% for row in table_rows %}
<tr>
  <td>{{ row.name }}</td>
  <td class="{{ row.status_class }}">{{ row.status }}</td>
  <td>{{ row.summary }}</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>

<div class="spacer"></div>

<!-- CATEGORY DETAIL CARDS -->
<div class="section-title">Category assessment details</div>

{% for cat in categories %}
<div class="card category-card">

  <div class="category-head">
    <div>{{ cat.name }}</div>
    <div class="category-status {{ cat.status_class }}">{{ cat.status }}</div>
  </div>

  <div class="category-meta">
    Legislation reference: {{ cat.legislation }}
  </div>

  <ul class="checklist">
    {% for item in cat.checklist %}
    <li>{{ item }}</li>
    {% endfor %}
  </ul>

  {% if cat.note %}
  <div class="category-note">{{ cat.note }}</div>
  {% endif %}

  {% if cat.photos %}
  <div class="photos-grid">
    {% for p in cat.photos %}
    <img src="{{ p }}" alt="Inspection photo">
    {% endfor %}
  </div>
  {% endif %}

</div>
<div class="spacer"></div>
{% endfor %}

<!-- PHOTO APPENDIX -->
{% if all_photos %}
<div class="card">
  <div class="section-title">Inspection photo appendix</div>
  <div class="photos-grid">
    {% for p in all_photos %}
    <img src="{{ p }}" alt="Inspection photo">
    {% endfor %}
  </div>
</div>
<div class="spacer"></div>
{% endif %}

<div class="assurance">
  This report has been prepared to help ensure the property meets Victorian Minimum Rental Standards.
</div>

<div class="spacer"></div>

<div class="card footer-card">
  Class A Fix â€“ Maintenance Management Services | info@classafix.com.au | 03 9063 1538
</div>

</div>
</body>
</html>
