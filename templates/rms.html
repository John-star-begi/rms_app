<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Rental Minimum Standards Check | Class A Fix</title>

<style>
:root{
  --brand:#0077B6;
  --light-brand:#E8F4FB;
  --light-header:#E3F2FD;
  --table-head:#F3F6FA;

  --text:#222;
  --label:#555;
  --muted:#777;
  --ok:#2E7D32;
  --bad:#B00020;

  --border:#D0D7DE;
  --radius:12px;
  --pad:12px;
}

@page{size:A4;margin:20mm;}
body{
  margin:0;
  font-family: Helvetica, Arial, sans-serif;
  font-size:10pt;
  color:var(--text);
}
.page{max-width:170mm;margin:0 auto;}
.spacer{height:12px;}

.card{
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:var(--pad);
  background:#fff;
}

.header{
  background:var(--light-header);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:10px 12px;
  display:flex;
  align-items:center;
  gap:12px;
}

.logo{height:42px;max-width:120px;object-fit:contain;}

h1{
  margin:0;
  font-size:14pt;
  color:var(--brand);
}
.subtitle{color:var(--muted);font-size:10pt;}

.info-card{background:var(--light-brand);}
.info-grid{
  display:grid;
  grid-template-columns:180px 1fr;
  gap:6px 12px;
}
.label{font-size:9.5pt;font-weight:700;color:var(--label);}
.value{font-size:10pt;}
.value.ok{color:var(--ok);font-weight:700;}

.summary-row{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.summary-card{text-align:center;padding:14px 10px;}
.summary-title{font-size:9.5pt;color:var(--muted);font-weight:700;}
.summary-value{font-size:20pt;color:var(--brand);font-weight:700;}

.section-title{
  font-size:11pt;
  font-weight:700;
  color:var(--brand);
  margin-bottom:6px;
}

.status-ok{color:var(--ok);font-weight:700;}
.status-bad{color:var(--bad);font-weight:700;}

.category-card{
  border-top:1px solid var(--border);
  padding-top:12px;
  margin-top:12px;
}
.category-card:first-child{
  border-top:none;
  padding-top:0;
  margin-top:0;
}

.category-head{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  font-weight:700;
}

.checklist{
  margin:8px 0 0 18px;
  padding:0;
  color:var(--muted);
}
.checklist li{
  margin-bottom:4px;
}

.comment{
  margin-top:8px;
  font-style:italic;
}

.photos-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:8px;
}
.photos-grid img{
  width:100%;
  height:200px;
  object-fit:cover;
  border:1px solid var(--border);
  border-radius:8px;
}

.footer{
  background:var(--light-header);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:8px;
  text-align:center;
  font-weight:700;
  color:var(--brand);
}
</style>
</head>

<body>
<div class="page">

<!-- HEADER -->
<div class="header">
  <img src="class-a-fix-logo.jpg" class="logo" alt="Class A Fix">
  <div>
    <h1>Rental Minimum Standards Check</h1>
    <div class="subtitle">Class A Fix Service Report</div>
  </div>
</div>

<div class="spacer"></div>

<!-- INFO -->
<div class="card info-card">
  <div class="info-grid">
    <div class="label">Agency</div><div class="value">{{ agency }}</div>
    <div class="label">Property Manager</div><div class="value">{{ property_manager }}</div>
    <div class="label">Property</div><div class="value">{{ property_address }}</div>
    <div class="label">Generated</div><div class="value">{{ generated_date }}</div>
  </div>
</div>

<div class="spacer"></div>

<!-- SUMMARY -->
<div class="summary-row">
  <div class="card summary-card">
    <div class="summary-title">Standards checked</div>
    <div class="summary-value">{{ data|length }}</div>
  </div>
  <div class="card summary-card">
    <div class="summary-title">Non compliant</div>
    <div class="summary-value">
      {{ data.values() | selectattr("status", "equalto", "Non compliant") | list | length }}
    </div>
  </div>
  <div class="card summary-card">
    <div class="summary-title">Actions required</div>
    <div class="summary-value">
      {{ data.values() | selectattr("status", "equalto", "Non compliant") | list | length }}
    </div>
  </div>
</div>

<div class="spacer"></div>

<!-- CATEGORY ASSESSMENT -->
<div class="card">
  <div class="section-title">Category assessment details</div>

  {% for key, cat in data.items() %}
  <div class="category-card">

    <div class="category-head">
      <div>{{ cat.name }}</div>
      <div class="{{ 'status-bad' if cat.status == 'Non compliant' else 'status-ok' }}">
        {{ cat.status }}
      </div>
    </div>

    <!-- STATIC CHECKLIST (EXAMPLE – EXTEND AS NEEDED) -->
    <ul class="checklist">
      <li>Meets minimum rental standard requirements</li>
      <li>Item present and operational where required</li>
      <li>No immediate safety risks identified</li>
    </ul>

    {% if cat.comment %}
      <div class="comment">Comment: {{ cat.comment }}</div>
    {% endif %}

    {% if cat.photos %}
      <div class="photos-grid">
        {% for photo in cat.photos %}
          <img src="{{ photo }}">
        {% endfor %}
      </div>
    {% endif %}

  </div>
  {% endfor %}
</div>

<div class="spacer"></div>

<!-- PHOTO APPENDIX -->
<div class="card">
  <div class="section-title">Inspection photo record</div>

  {% for key, cat in data.items() %}
    {% if cat.photos %}
      <h3>{{ cat.name }}</h3>
      <div class="photos-grid">
        {% for photo in cat.photos %}
          <img src="{{ photo }}">
        {% endfor %}
      </div>
      <div class="spacer"></div>
    {% endif %}
  {% endfor %}
</div>

<div class="spacer"></div>

<!-- FOOTER -->
<div class="footer">
  Class A Fix – Maintenance Management Services | info@classafix.com.au | 03 9063 1538
</div>

</div>
</body>
</html>
